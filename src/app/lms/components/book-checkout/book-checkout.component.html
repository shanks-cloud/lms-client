<!-- <p>book-checkout works!</p> -->


<mat-grid-list cols="3">

    <mat-grid-tile>
        <mat-grid-tile-header> Books </mat-grid-tile-header>


        <mat-tree [dataSource]="dataSourceBookNode" [treeControl]="treeControl" class="example-tree bookTree">

            <!-- This is the tree node template for leaf nodes -->

            <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>

                <!-- <li class="mat-tree-node"> -->
                <!-- use a disabled button to provide padding for tree leaf -->
                <button mat-icon-button disabled></button>

                <!-- <mat-checkbox class="checklist-leaf-node"> -->
                <mat-checkbox (click)="showSelectedBooks(node.name)" [checked]="bookCheckedFlag"
                    [disabled]="bookRestrictFlag">
                    {{node.name}}
                </mat-checkbox>

                <!-- </li> -->
            </mat-tree-node>

            <!-- This is the tree node template for expandable nodes -->

            <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                <li>
                    <!-- <div class="mat-tree-node"> -->
                    <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.name"
                        matTreeNodePadding>
                        <mat-icon class="mat-icon-rtl-mirror">
                            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                    </button>

                    <!-- <mat-checkbox class="checklist-leaf-node"> -->
                    <!-- <mat-checkbox> -->
                    {{node.name}}
                    <!-- </mat-checkbox> -->

                    <!-- </div> -->
                    <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">
                        <ng-container matTreeNodeOutlet></ng-container>
                    </ul>
                </li>
            </mat-nested-tree-node>
        </mat-tree>


    </mat-grid-tile>


    <mat-grid-tile>
        <mat-grid-tile-header> Members </mat-grid-tile-header>



        <mat-tree [dataSource]="dataSourceMemberNode" [treeControl]="treeControl" class="example-tree memberTree">

            <!-- This is the tree node template for leaf nodes -->

            <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>

                <!-- <li class="mat-tree-node"> -->
                <!-- use a disabled button to provide padding for tree leaf -->
                <button mat-icon-button disabled></button>

                <!-- <mat-checkbox class="checklist-leaf-node"> -->
                <mat-checkbox (click)="showSelectedMembers(node.name)" [checked]="memberCheckedFlag"
                    [disabled]="memberRestrictFlag">
                    {{node.name}}
                </mat-checkbox>

                <!-- </li> -->
            </mat-tree-node>

            <!-- This is the tree node template for expandable nodes -->

            <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                <li>
                    <!-- <div class="mat-tree-node"> -->
                    <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'toggle ' + node.name"
                        matTreeNodePadding>
                        <mat-icon class="mat-icon-rtl-mirror">
                            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                    </button>

                    <!-- <mat-checkbox class="checklist-leaf-node"> -->
                    <!-- <mat-checkbox> -->
                    {{node.name}}
                    <!-- </mat-checkbox> -->

                    <!-- </div> -->
                    <ul [class.example-tree-invisible]="!treeControl.isExpanded(node)">
                        <ng-container matTreeNodeOutlet></ng-container>
                    </ul>
                </li>
            </mat-nested-tree-node>
        </mat-tree>


    </mat-grid-tile>


    <mat-grid-tile>


        <mat-card>

            <button class="btn btn-primary" (click)="onReset()">Reset</button>
            <br>
            <br>
            <button class="btn btn-primary" [disabled]="bookMemberSelection" (click)="showTable()">Apply</button>

        </mat-card>

    </mat-grid-tile>
</mat-grid-list>

<form #bookChkOutFrm="ngForm" *ngIf="showTblFlag">
    <table mat-table [dataSource]="bookCheckOutDataSource" matSort class="mat-elevation-z8">

        <!-- ISBN Column -->
        <ng-container matColumnDef="isbn">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> isbn </th>
            <td mat-cell *matCellDef="let element"> {{element.isbn}} </td>
        </ng-container>

        <!-- MemberID Column -->
        <ng-container matColumnDef="memberId">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> MemberID </th>
            <td mat-cell *matCellDef="let element"> {{element.memberId}} </td>
        </ng-container>

        <!-- Firstname Column -->
        <ng-container matColumnDef="firstName">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> Firstname </th>
            <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
        </ng-container>


        <!-- Lastname Column -->
        <ng-container matColumnDef="lastName">
            <th mat-header-cell mat-sort-header *matHeaderCellDef> Lastname </th>
            <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row (click)="showDetails(row)" *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    &nbsp;
    &nbsp;

    <button class="btn btn-primary cancelButton" (click)="onCancel()">Cancel</button>
    &nbsp;
    &nbsp;
    <button class="btn btn-primary confirmButton" (click)="onConfirm()">Confirm</button>

</form>